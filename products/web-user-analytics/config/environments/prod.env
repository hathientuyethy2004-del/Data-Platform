# Web User Analytics - Production Environment

PRODUCT_NAME=web-user-analytics
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=WARN

# Kafka Configuration
KAFKA_BROKERS=kafka-prod-1:9092,kafka-prod-2:9092,kafka-prod-3:9092,kafka-prod-4:9092,kafka-prod-5:9092
KAFKA_TOPICS=topic_web_events,topic_page_views,topic_user_sessions
KAFKA_CONSUMER_GROUP=web-analytics-consumer-prod
KAFKA_BATCH_SIZE=10000
KAFKA_MAX_RETRIES=5

# Spark Configuration
SPARK_MASTER=spark://spark-master-prod:7077
SPARK_EXECUTOR_MEMORY=8g
SPARK_DRIVER_MEMORY=4g
SPARK_EXECUTOR_CORES=4
SPARK_EXECUTOR_INSTANCES=10
SPARK_APP_NAME=web-user-analytics-prod

# Storage Configuration
DELTA_LAKE_PATH=/mnt/data_lake/production
BRONZE_PATH=/mnt/data_lake/production/bronze
SILVER_PATH=/mnt/data_lake/production/silver
GOLD_PATH=/mnt/data_lake/production/gold
ENABLE_BACKUPS=true
BACKUP_INTERVAL_HOURS=6

# Session Configuration
SESSION_TIMEOUT_MINUTES=30
CROSS_DOMAIN_TRACKING=true
BOT_DETECTION=true
BOT_THRESHOLD_SCORE=0.8

# API Configuration
API_HOST=0.0.0.0
API_PORT=8002
API_WORKERS=8
API_TIMEOUT_SECONDS=30
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS_PER_MINUTE=2000

# Cache Configuration
REDIS_CLUSTER=redis-prod-1,redis-prod-2,redis-prod-3
REDIS_PORT=6379
REDIS_DB=2
CACHE_TTL_SECONDS=3600
CACHE_MAXMEMORY_POLICY=allkeys-lru

# Monitoring
PROMETHEUS_PORT=9091
HEALTH_CHECK_INTERVAL_SECONDS=30
ALERTING_ENABLED=true
SLACK_WEBHOOK_URL=${PROD_SLACK_WEBHOOK_URL}

# Logging
LOG_FORMAT=json
LOG_OUTPUT=file
LOG_FILE=/var/log/web-analytics/production.log
LOG_ROTATION_SIZE=1GB
LOG_RETENTION_DAYS=30

# Feature Flags
FEATURE_HEATMAP_TRACKING=true
FEATURE_SESSION_REPLAY=false
FEATURE_ML_ATTRIBUTION=false
FEATURE_REAL_TIME_ALERTS=true

# Security
API_TOKEN_SECRET=${PROD_API_TOKEN_SECRET}
ENABLE_SSL=true
SSL_CERT_PATH=/etc/ssl/certs/web-analytics.crt
SSL_KEY_PATH=/etc/ssl/private/web-analytics.key
ENABLE_TLS_VERIFICATION=true

# Data Retention & Compliance
DATA_RETENTION_DAYS_BRONZE=90
DATA_RETENTION_DAYS_SILVER=365
DATA_RETENTION_DAYS_GOLD=2555
ENABLE_GDPR_COMPLIANCE=true
ENABLE_DATA_ANONYMIZATION=true

# Performance Tuning
ENABLE_QUERY_CACHING=true
ENABLE_QUERY_OPTIMIZATION=true
MAX_QUERY_EXECUTION_TIME_SECONDS=300
